(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b21d368"],{"0418":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("div",{staticClass:"secheader bg-primary"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row align-items-center py-1"},[t._m(0),s("div",{staticClass:"col-md-6 text-right userlink d-flex justify-content-around justify-content-md-end"},[null===t.userEmail?s("router-link",{staticClass:"text-light p-2",attrs:{to:"/customer_login"}},[s("i",{staticClass:"fas fa-user mr-1"}),t._v("會員登入 ")]):s("div",{staticClass:"d-flex align-items-center"},[s("a",{staticClass:"m-0 text-light mr-2 dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown","data-reference":"parent"}},[t._v("您好 "+t._s(t.userEmail))]),s("div",{staticClass:"dropdown-menu"},[s("router-link",{staticClass:"dropdown-item",attrs:{to:"history_order"}},[t._v("查詢訂單")]),s("a",{staticClass:"dropdown-item",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.signOut(a)}}},[t._v("會員登出")])],1)]),s("router-link",{staticClass:"text-light p-2 mr-3",attrs:{to:"/admin_login"}},[s("i",{staticClass:"fas fa-user-cog mr-1"}),t._v("管理員登入 ")])],1)])])]),s("div",{staticClass:"mainheader container"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("h1",{staticClass:"m-0"},[s("router-link",{staticClass:"navbar-brand title mr-4",attrs:{to:"/"}},[s("i",{staticClass:"fab fa-bootstrap text-primary mr-2"}),t._v("boo售票網 ")])],1),s("div",{staticClass:"d-lg-none ml-auto mr-3 cart-lg"},[s("a",{staticClass:"align-middle",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.loginCheck(a)}}},[s("i",{staticClass:"fas fa-shopping-cart"})])]),t._m(1),s("div",{staticClass:"collapse navbar-collapse ",attrs:{id:"navbarNav"}},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active","focus-class":"focus",to:"/product_music"}},[s("i",{staticClass:"fas fa-music"}),t._v("音樂")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active","focus-class":"focus",to:"/product_drama"}},[s("i",{staticClass:"fas fa-theater-masks"}),t._v("戲劇")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active","focus-class":"focus",to:"/product_sport"}},[s("i",{staticClass:"fas fa-basketball-ball"}),t._v("運動")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active","focus-class":"focus",to:"/product_expo"}},[s("i",{staticClass:"fas fa-palette"}),t._v("展覽")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active","focus-class":"focus",to:"/product_concert"}},[s("i",{staticClass:"fas fa-microphone-alt"}),t._v("演唱會")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active","focus-class":"focus",to:"/product_movie"}},[s("i",{staticClass:"fas fa-video"}),t._v("電影")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active","focus-class":"focus",to:"/product_family"}},[s("i",{staticClass:"fas fa-child"}),t._v("親子")])],1)])]),s("div",{staticClass:"cart"},[s("router-link",{attrs:{to:"/customer_order"}},[s("i",{staticClass:"fas fa-shopping-cart mr-1"}),t._v("購物車("+t._s(t.cartsLen)+") ")])],1)])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-6 social-media"},[s("a",{staticClass:"text-light p-3",attrs:{href:""}},[s("i",{staticClass:"fab fa-instagram"})]),s("a",{staticClass:"text-light p-3",attrs:{href:""}},[s("i",{staticClass:"fab fa-facebook-square"})]),s("a",{staticClass:"text-light p-3",attrs:{href:""}},[s("i",{staticClass:"fab fa-line"})]),s("a",{staticClass:"text-light p-3",attrs:{href:"https://github.com/takeryang/booticket-SC"}},[s("i",{staticClass:"fab fa-github"})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],r=(s("a9e3"),s("260b")),c=(s("1157"),{props:{cartsLen:Number},data:function(){return{userEmail:null,status:{online:!1},a:""}},methods:{signOut:function(){r["a"].auth().signOut().then((function(){console.log("success"),window.location.reload()})).catch((function(t){}))},userOnline:function(){r["a"].auth().onAuthStateChanged((function(t){if(null!==t){t.email;console.log(t)}else console.log("NO")}))},loginCheck:function(){null!==this.userEmail?this.$router.push("/customer_order"):(alert("請先登入會員"),this.$router.push("/customer_login"))}},created:function(){}}),n=c,o=s("2877"),l=Object(o["a"])(n,i,e,!1,null,null,null);a["a"]=l.exports},8418:function(t,a,s){"use strict";var i=s("c04e"),e=s("9bf2"),r=s("5c6c");t.exports=function(t,a,s){var c=i(a);c in t?e.f(t,c,r(0,s)):t[c]=s}},"99af":function(t,a,s){"use strict";var i=s("23e7"),e=s("d039"),r=s("e8b5"),c=s("861d"),n=s("7b0b"),o=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),v=s("b622"),f=s("2d00"),h=v("isConcatSpreadable"),p=9007199254740991,C="Maximum allowed index exceeded",_=f>=51||!e((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=d("concat"),m=function(t){if(!c(t))return!1;var a=t[h];return void 0!==a?!!a:r(t)},b=!_||!g;i({target:"Array",proto:!0,forced:b},{concat:function(t){var a,s,i,e,r,c=n(this),d=u(c,0),v=0;for(a=-1,i=arguments.length;a<i;a++)if(r=-1===a?c:arguments[a],m(r)){if(e=o(r.length),v+e>p)throw TypeError(C);for(s=0;s<e;s++,v++)s in r&&l(d,v,r[s])}else{if(v>=p)throw TypeError(C);l(d,v++,r)}return d.length=v,d}})},eec3:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("Header",{attrs:{"carts-len":t.cartsLen}}),s("div",{staticClass:"container"},[s("div",{staticClass:"my-5 row justify-content-center"},[s("form",{staticClass:"col-md-8",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[t._m(0),s("table",{staticClass:"table"},[t._m(1),s("tbody",t._l(t.order.products,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),s("td",{staticClass:"align-middle text-center"},[t._v(t._s(a.qty))]),s("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),s("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("th",{attrs:{width:"120"}},[t._v("Email")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",[t._v("訂購人電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",[t._v("訂購人地址")]),s("td",[t._v(t._s(t.order.user.address))])]),s("tr",[s("th",[t._v("付款狀態")]),s("td",[t.order.is_paid?s("span",{staticClass:"text-success"},[t._v("付款完成")]):s("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])])]),s("div",{staticClass:"text-right"},[!1===t.order.is_paid?s("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")]):t._e(),!0===t.order.is_paid?s("router-link",{staticClass:"btn btn-success",attrs:{to:"/customer_code"}},[t._v("領取取票代碼")]):t._e()],1)])])])],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"check-order"},[s("p",[t._v("確認訂購資訊")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th",[t._v("商品名稱")]),s("th",{staticClass:"text-center"},[t._v("張數")]),s("th",{staticClass:"text-right"},[t._v("單價")])])}],r=(s("99af"),s("0418")),c={components:{Header:r["a"]},data:function(){return{order:{user:{}},orderId:"",carts:{},cartsLen:0,isLoading:!1}},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("user001","/order/").concat(this.orderId);this.$http.get(a).then((function(a){t.order=a.data.order}))},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("user001","/pay/").concat(this.orderId);this.isLoading=!0,this.$http.post(a).then((function(a){a.data.success&&t.getOrder(),t.isLoading=!1}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("user001","/cart");this.isLoading=!0,this.$http.get(a).then((function(a){t.carts=a.data.data,t.cartsLen=a.data.data.carts.length,t.isLoading=!1}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder(),this.getCart()}},n=c,o=s("2877"),l=Object(o["a"])(n,i,e,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2b21d368.c5058343.js.map