(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b997177"],{1799:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page==a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getProducts(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},i=[],r={props:["pagination"],methods:{getProducts:function(t){this.$emit("changePage",t)}}},s=r,c=e("2877"),o=Object(c["a"])(s,n,i,!1,null,null,null);a["a"]=o.exports},"466d":function(t,a,e){"use strict";var n=e("d784"),i=e("825a"),r=e("50c4"),s=e("1d80"),c=e("8aa5"),o=e("14c3");n("match",1,(function(t,a,e){return[function(a){var e=s(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,e):new RegExp(a)[t](String(e))},function(t){var n=e(a,t,this);if(n.done)return n.value;var s=i(t),l=String(this);if(!s.global)return o(s,l);var u=s.unicode;s.lastIndex=0;var d,h=[],f=0;while(null!==(d=o(s,l))){var g=String(d[0]);h[f]=g,""===g&&(s.lastIndex=c(l,r(s.lastIndex),u)),f++}return 0===f?null:h}]}))},"7fc1":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"table-responsive my-4 h-all"},[e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.filterOrder(t.searchVal),(function(a){return e("tr",{key:a.id},[e("td",[t._v(" "+t._s(new Date(1e3*a.create_at).toLocaleDateString())),e("br"),t._v(t._s(new Date(1e3*a.create_at).toLocaleTimeString())+" ")]),e("td",[t._v(t._s(a.user.name))]),e("td",[e("ul",{staticClass:"order-list"},t._l(a.products,(function(a){return e("li",[t._v(" "+t._s(a.product.title)+" ")])})),0)]),e("td",[e("ul",{staticClass:"order-list"},t._l(a.products,(function(a){return e("li",{staticClass:"text-center"},[t._v(" "+t._s(a.qty)+" ")])})),0)]),e("td",{staticClass:"text-right"},[t._v(t._s(a.total))]),e("td",{staticClass:"text-right"},[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("未付款")])])])})),0)])]),e("Pagination",{attrs:{pagination:t.pagination},on:{changePage:t.getOrderList}})],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"120"}},[t._v("購買時間")]),e("th",{attrs:{width:"120"}},[t._v("訂購人姓名")]),e("th",[t._v("購買品項")]),e("th",{attrs:{width:"60"}},[t._v("張數")]),e("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("付款金額")]),e("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("是否付款")])])}],r=(e("99af"),e("4de4"),e("466d"),e("ac1f"),e("b0c0"),e("1799")),s={props:["search"],components:{Pagination:r["a"]},data:function(){return{isLoading:!1,orders:[],pagination:{},searchVal:""}},watch:{search:function(t){this.searchVal=t}},methods:{getOrderList:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("user001","/admin/orders?page=").concat(a);this.isLoading=!0,this.$http.get(e).then((function(a){t.orders=a.data.orders,t.pagination=a.data.pagination,t.isLoading=!1}))},filterOrder:function(t){return this.orders.filter((function(a){return a.user.name.toLowerCase().match(t)}))}},created:function(){this.getOrderList()}},c=s,o=e("2877"),l=Object(o["a"])(c,n,i,!1,null,null,null);a["default"]=l.exports},8418:function(t,a,e){"use strict";var n=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var s=n(a);s in t?i.f(t,s,r(0,e)):t[s]=e}},"99af":function(t,a,e){"use strict";var n=e("23e7"),i=e("d039"),r=e("e8b5"),s=e("861d"),c=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),h=e("b622"),f=e("2d00"),g=h("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",_=f>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),m=function(t){if(!s(t))return!1;var a=t[g];return void 0!==a?!!a:r(t)},x=!_||!b;n({target:"Array",proto:!0,forced:x},{concat:function(t){var a,e,n,i,r,s=c(this),d=u(s,0),h=0;for(a=-1,n=arguments.length;a<n;a++)if(r=-1===a?s:arguments[a],m(r)){if(i=o(r.length),h+i>p)throw TypeError(v);for(e=0;e<i;e++,h++)e in r&&l(d,h,r[e])}else{if(h>=p)throw TypeError(v);l(d,h++,r)}return d.length=h,d}})},b0c0:function(t,a,e){var n=e("83ab"),i=e("9bf2").f,r=Function.prototype,s=r.toString,c=/^\s*function ([^ (]*)/,o="name";n&&!(o in r)&&i(r,o,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-2b997177.c8901e8c.js.map